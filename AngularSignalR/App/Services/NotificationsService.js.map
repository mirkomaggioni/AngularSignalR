{"version":3,"sources":["Services/NotificationsService.ts"],"names":[],"mappings":"AAAA,mEAAmE;AAEnE,IAAO,iBAAiB,CAmCvB;AAnCD,WAAO,iBAAiB;IAAC,IAAA,QAAQ,CAmChC;IAnCwB,WAAA,QAAQ,EAAC,CAAC;QAE/B;YAMI;gBANJ,iBA8BC;gBAvBO,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,aAAa,EAAE,CAAC;gBACpC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;gBAEhE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,oBAAoB,EAAE;oBAChC,KAAI,CAAC,QAAQ,EAAE,CAAC;gBACpB,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YAC5B,CAAC;YAEM,iDAAkB,GAAzB;gBACI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;YACtC,CAAC;YAEM,6CAAc,GAArB,UAAsB,QAAoB;gBACtC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACX,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBAC7B,CAAC;YACL,CAAC;YAEM,4BAAO,GAAd;gBACI,MAAM,CAAC,cAAM,OAAA,IAAI,oBAAoB,EAAE,EAA1B,CAA0B,CAAC;YAC5C,CAAC;YACL,2BAAC;QAAD,CA9BA,AA8BC,IAAA;QA9BY,6BAAoB,uBA8BhC,CAAA;QAED,gCAAc,CAAC,MAAM,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC5F,CAAC,EAnCwB,QAAQ,GAAR,0BAAQ,KAAR,0BAAQ,QAmChC;AAAD,CAAC,EAnCM,iBAAiB,KAAjB,iBAAiB,QAmCvB","file":"NotificationsService.js","sourcesContent":["/// <reference path=\"../../scripts/typings/signalr/signalr.d.ts\" />\r\n\r\nmodule AngularSignalRApp.Services {\r\n\r\n    export class NotificationsService {\r\n\r\n        private connection: HubConnection;\r\n        private proxy: HubProxy;\r\n        private callback: () => void;\r\n\r\n        constructor() {\r\n            this.connection = $.hubConnection();\r\n            this.proxy = this.connection.createHubProxy('NotificationsHub');\r\n\r\n            this.proxy.on('NotifyOrderChanges', () => {\r\n                this.callback();\r\n            });\r\n\r\n            this.connection.start();        \r\n        }\r\n\r\n        public NotifyOrderChanges() {\r\n            this.proxy.invoke('OrderChanges');\r\n        }\r\n\r\n        public OnOrderChanges(callback: () => void) {\r\n            if (callback) {\r\n                this.callback = callback;\r\n            }\r\n        }\r\n\r\n        static factory() {\r\n            return () => new NotificationsService();\r\n        }\r\n    }\r\n\r\n    AngularSignalR.module.factory('NotificationsService', [NotificationsService.factory()]);\r\n}"]}