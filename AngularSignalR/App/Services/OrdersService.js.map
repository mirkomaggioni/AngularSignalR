{"version":3,"sources":["Services/OrdersService.ts"],"names":[],"mappings":"AAAA,2CAA2C;AAC3C,sCAAsC;AAEtC,IAAU,iBAAiB,CAgD1B;AAhDD,WAAU,iBAAiB;IAAC,IAAA,QAAQ,CAgDnC;IAhD2B,WAAA,QAAQ,EAAC,CAAC;QAGlC,IAAO,SAAS,GAAG,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC;QAMvD;YAGI,uBAAY,SAA+B;gBACvC,IAAI,CAAC,QAAQ,GAAyB,SAAS,CAAC,iBAAiB,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE;oBAC9E,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;oBACtB,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;oBAC1B,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;oBACvB,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE;oBACvC,MAAM,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;iBAC/B,CAAC,CAAC;YACP,CAAC;YAEa,qBAAO,GAArB;gBACI,MAAM,CAAC,UAAC,CAAuB,IAAK,OAAA,IAAI,aAAa,CAAC,CAAC,CAAC,EAApB,CAAoB,CAAC;YAC7D,CAAC;YAEM,8BAAM,GAAb,UAAc,KAAsC;gBAChD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAEM,4BAAI,GAAX,UAAY,KAAsC;gBAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,KAAK,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBACnC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACvC,CAAC;gBAED,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACrC,CAAC;YAEM,8BAAM,GAAb,UAAc,KAAsC;gBAChD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAEM,8BAAM,GAAb;gBACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACjC,CAAC;YACL,oBAAC;QAAD,CApCA,AAoCC,IAAA;QApCY,sBAAa,gBAoCzB,CAAA;QAED,gCAAc,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC,WAAW,EAAE,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3F,CAAC,EAhD2B,QAAQ,GAAR,0BAAQ,KAAR,0BAAQ,QAgDnC;AAAD,CAAC,EAhDS,iBAAiB,KAAjB,iBAAiB,QAgD1B","file":"OrdersService.js","sourcesContent":["/// <reference path=\"../models/order.ts\" />\r\n/// <reference path=\"../commons.ts\" />\r\n\r\nnamespace AngularSignalRApp.Services {\r\n\r\n    import ngr = ng.resource;\r\n    import constants = AngularSignalRApp.Commons.Constants;\r\n\r\n    export interface IOrdersResourceClass extends ngr.IResourceClass<ngr.IResource<AngularSignalRApp.Models.IOrder>> {\r\n        create(order: AngularSignalRApp.Models.IOrder): ngr.IResource<AngularSignalRApp.Models.IOrder>;\r\n    }\r\n\r\n    export class OrdersService {\r\n        private resource: IOrdersResourceClass;\r\n\r\n        constructor($resource: ngr.IResourceService) {\r\n            this.resource = <IOrdersResourceClass>$resource(\"/api/orders/:id\", { id: \"@Id\" }, {\r\n                get: { method: \"GET\" },\r\n                create: { method: \"POST\" },\r\n                save: { method: \"PUT\" },\r\n                query: { method: \"GET\", isArray: true },\r\n                delete: { method: \"DELETE\" }\r\n            });\r\n        }\r\n\r\n        public static factory() {\r\n            return (r: ngr.IResourceService) => new OrdersService(r);\r\n        }\r\n\r\n        public create(order: AngularSignalRApp.Models.IOrder) {\r\n            return this.resource.create(order);\r\n        }\r\n\r\n        public save(order: AngularSignalRApp.Models.IOrder) {\r\n            if (order.Id === constants.guidEmpty) {\r\n                return this.resource.create(order);\r\n            }\r\n\r\n            return this.resource.save(order);\r\n        }\r\n\r\n        public delete(order: AngularSignalRApp.Models.IOrder) {\r\n            return this.resource.remove(order);\r\n        }\r\n\r\n        public getAll() {\r\n            return this.resource.query();\r\n        }\r\n    }\r\n\r\n    AngularSignalR.module.factory(\"OrdersService\", [\"$resource\", OrdersService.factory()]);\r\n}\r\n"]}