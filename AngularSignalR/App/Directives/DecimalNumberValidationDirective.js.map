{"version":3,"sources":["Directives/DecimalNumberValidationDirective.ts"],"names":[],"mappings":"AAAA,qEAAqE;AAErE,IAAU,iBAAiB,CAkC1B;AAlCD,WAAU,iBAAiB;IAAC,IAAA,UAAU,CAkCrC;IAlC2B,WAAA,UAAU,EAAC,CAAC;QAEpC;YAAA;gBAEW,aAAQ,GAAG,GAAG,CAAC;gBACf,YAAO,GAAG,UAAU,CAAC;YA0BhC,CAAC;YAzBiB,qBAAO,GAArB;gBACI,MAAM,CAAC,cAAM,OAAA,IAAI,aAAa,EAAE,EAAnB,CAAmB,CAAC;YACrC,CAAC;YAEM,4BAAI,GAAX,UAAY,MAAiB,EAAE,OAAe,EAAE,UAA0B,EAAE,eAAsC;gBAE9G,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,KAAK;oBAChC,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;wBACtB,MAAM,CAAC,EAAE,CAAC;oBACd,CAAC;oBAED,IAAI,aAAa,GAAW,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;oBAE5D,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;wBACtC,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBACzE,CAAC;oBAED,EAAE,CAAC,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC1B,eAAe,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;wBAC7C,eAAe,CAAC,OAAO,EAAE,CAAC;oBAC9B,CAAC;oBACD,MAAM,CAAC,aAAa,CAAC;gBACzB,CAAC,CAAC,CAAC;YAEP,CAAC;YACL,oBAAC;QAAD,CA7BA,AA6BC,IAAA;QA7BY,wBAAa,gBA6BzB,CAAA;QAED,gCAAc,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;IAC9E,CAAC,EAlC2B,UAAU,GAAV,4BAAU,KAAV,4BAAU,QAkCrC;AAAD,CAAC,EAlCS,iBAAiB,KAAjB,iBAAiB,QAkC1B","file":"DecimalNumberValidationDirective.js","sourcesContent":["/// <reference path=\"../../scripts/typings/angularjs/angular.d.ts\" />\r\n\r\nnamespace AngularSignalRApp.Directives {\r\n\r\n    export class DecimalNumber implements ng.IDirective {\r\n\r\n        public restrict = \"A\";\r\n        public require = \"?ngModel\";\r\n        public static factory(): ng.IDirectiveFactory {\r\n            return () => new DecimalNumber();\r\n        }\r\n\r\n        public link($scope: ng.IScope, element: JQuery, attributes: ng.IAttributes, modelController: ng.INgModelController) {\r\n\r\n            modelController.$parsers.push((value) => {\r\n                if (value === undefined) {\r\n                    return \"\";\r\n                }\r\n\r\n                let replacedValue: string = value.replace(/[^-0-9\\.]/g, \"\");\r\n\r\n                if (replacedValue.split(\".\").length > 2) {\r\n                    replacedValue = replacedValue.substring(0, replacedValue.length - 1);\r\n                }\r\n\r\n                if (replacedValue !== value) {\r\n                    modelController.$setViewValue(replacedValue);\r\n                    modelController.$render();\r\n                }\r\n                return replacedValue;\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    AngularSignalR.module.directive(\"decimalNumber\", DecimalNumber.factory());\r\n}\r\n"]}